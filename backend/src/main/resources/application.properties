spring.application.name=feedback

# MongoDB Configuration
spring.data.mongodb.uri=${MONGODB_URI:mongodb://localhost:27017/swarm-feedback}
spring.data.mongodb.auto-index-creation=true

# MongoDB Connection Pool Optimization
spring.data.mongodb.max-connection-idle-time=60000
spring.data.mongodb.max-connection-life-time=120000
spring.data.mongodb.min-connections-per-host=10
spring.data.mongodb.max-connections-per-host=100
spring.data.mongodb.server-selection-timeout=30000
spring.data.mongodb.connect-timeout=10000
spring.data.mongodb.socket-timeout=60000

# JWT Configuration
# JWT Configuration
# Use a strong secret in production via env var JWT_SECRET
jwt.secret=${JWT_SECRET:VGhpcyBJcyBBIFZlcnkgTG9uZyBTZWNyZXQgS2V5IEZvciBKV1QgQXV0aGVudGljYXRpb24=}
jwt.expiration=86400000

# Mail Configuration
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME:your-email@gmail.com}
spring.mail.password=${MAIL_PASSWORD:your-app-password}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# Swagger UI
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# Server Port
server.port=8082

# Performance Optimizations
# HTTP/2 Support
server.http2.enabled=true

# Compression
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain,application/javascript,text/css
server.compression.min-response-size=1024

# Connection Pool
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10
server.tomcat.accept-count=100
server.tomcat.max-connections=10000
server.tomcat.connection-timeout=20000

# Async Processing
spring.task.execution.pool.core-size=10
spring.task.execution.pool.max-size=50
spring.task.execution.pool.queue-capacity=100
spring.task.execution.thread-name-prefix=async-

# Logging Optimization
logging.level.root=INFO
logging.level.com.swarm.feedback=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# Jackson Optimization
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.default-property-inclusion=non_null

# Cache Configuration
spring.cache.type=simple
spring.cache.cache-names=users,submissions,feedback

# Security
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=on_param
server.error.include-exception=false
